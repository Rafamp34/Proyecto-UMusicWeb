<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>repositorios documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">repositorios documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  ProfilePage</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/pages/profile/profile.page.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
                <code>OnDestroy</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-profile</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./profile.page.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./profile.page.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_currentUser" >_currentUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_playlists" >_playlists</a>
                            </li>
                            <li>
                                <a href="#changePasswordForm" >changePasswordForm</a>
                            </li>
                            <li>
                                <a href="#currentUser$" >currentUser$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#destroy$" >destroy$</a>
                            </li>
                            <li>
                                <a href="#followingCount$" >followingCount$</a>
                            </li>
                            <li>
                                <a href="#formGroup" >formGroup</a>
                            </li>
                            <li>
                                <a href="#page" >page</a>
                            </li>
                            <li>
                                <a href="#pages" >pages</a>
                            </li>
                            <li>
                                <a href="#pageSize" >pageSize</a>
                            </li>
                            <li>
                                <a href="#playlists$" >playlists$</a>
                            </li>
                            <li>
                                <a href="#profilePictureControl" >profilePictureControl</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#user" >user</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deletePlaylist" >deletePlaylist</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#loadPlaylistsByAuthor" >loadPlaylistsByAuthor</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#loadPlaylistsByAuthorName" >loadPlaylistsByAuthorName</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#loadUserData" >loadUserData</a>
                            </li>
                            <li>
                                <a href="#logout" >logout</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#onPhotoClick" >onPhotoClick</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#onProfilePictureChange" >onProfilePictureChange</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#openEditProfileModal" >openEditProfileModal</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#openPlaylistModal" >openPlaylistModal</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#performPlaylistDeletion" >performPlaylistDeletion</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#showErrorToast" >showErrorToast</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#showSuccessToast" >showSuccessToast</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(authService: <a href="../injectables/BaseAuthenticationService.html" target="_self">BaseAuthenticationService</a>, loadingController: LoadingController, toastController: ToastController, translateService: TranslateService, playlistsService: <a href="../injectables/PlaylistsService.html" target="_self">PlaylistsService</a>, router: Router, modalCtrl: ModalController, fb: FormBuilder, mediaService: <a href="../classes/BaseMediaService.html" target="_self">BaseMediaService</a>, userService: <a href="../injectables/UserService.html" target="_self">UserService</a>, authSvc: <a href="../injectables/BaseAuthenticationService.html" target="_self">BaseAuthenticationService</a>, alertCtrl: AlertController, socialService: <a href="../injectables/SocialService.html" target="_self">SocialService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="55" class="link-to-prism">src/app/pages/profile/profile.page.ts:55</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>authService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/BaseAuthenticationService.html" target="_self" >BaseAuthenticationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>loadingController</td>
                                                  
                                                        <td>
                                                                    <code>LoadingController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>toastController</td>
                                                  
                                                        <td>
                                                                    <code>ToastController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>translateService</td>
                                                  
                                                        <td>
                                                                    <code>TranslateService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>playlistsService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PlaylistsService.html" target="_self" >PlaylistsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                    <code>Router</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>modalCtrl</td>
                                                  
                                                        <td>
                                                                    <code>ModalController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>fb</td>
                                                  
                                                        <td>
                                                                    <code>FormBuilder</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>mediaService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/BaseMediaService.html" target="_self" >BaseMediaService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>userService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UserService.html" target="_self" >UserService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>authSvc</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/BaseAuthenticationService.html" target="_self" >BaseAuthenticationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>alertCtrl</td>
                                                  
                                                        <td>
                                                                    <code>AlertController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>socialService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SocialService.html" target="_self" >SocialService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deletePlaylist"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>deletePlaylist</b></span>
                        <a href="#deletePlaylist"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deletePlaylist(playlist: <a href="../interfaces/Playlist.html" target="_self">Playlist</a>, event: Event)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="225"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:225</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>playlist</td>
                                            <td>
                                                            <code><a href="../interfaces/Playlist.html" target="_self" >Playlist</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>Event</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadPlaylistsByAuthor"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>loadPlaylistsByAuthor</b></span>
                        <a href="#loadPlaylistsByAuthor"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadPlaylistsByAuthor(username: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="178"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:178</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>username</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadPlaylistsByAuthorName"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>loadPlaylistsByAuthorName</b></span>
                        <a href="#loadPlaylistsByAuthorName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadPlaylistsByAuthorName(authorName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="190"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:190</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>authorName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadUserData"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>loadUserData</b></span>
                        <a href="#loadUserData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadUserData()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="110"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:110</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logout"></a>
                    <span class="name">
                        <span ><b>logout</b></span>
                        <a href="#logout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>logout()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="532"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:532</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="104"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:104</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="99"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:99</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onPhotoClick"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>onPhotoClick</b></span>
                        <a href="#onPhotoClick"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onPhotoClick()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="368"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:368</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onProfilePictureChange"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>onProfilePictureChange</b></span>
                        <a href="#onProfilePictureChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onProfilePictureChange(newPicture: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="407"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:407</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>newPicture</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openEditProfileModal"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>openEditProfileModal</b></span>
                        <a href="#openEditProfileModal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>openEditProfileModal()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="465"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:465</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>    <code>unknown</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openPlaylistModal"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>openPlaylistModal</b></span>
                        <a href="#openPlaylistModal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>openPlaylistModal()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="288"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:288</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="performPlaylistDeletion"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>performPlaylistDeletion</b></span>
                        <a href="#performPlaylistDeletion"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>performPlaylistDeletion(playlist: <a href="../interfaces/Playlist.html" target="_self">Playlist</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="263"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:263</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>playlist</td>
                                            <td>
                                                            <code><a href="../interfaces/Playlist.html" target="_self" >Playlist</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showErrorToast"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>showErrorToast</b></span>
                        <a href="#showErrorToast"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>showErrorToast(message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="348"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:348</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showSuccessToast"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>showSuccessToast</b></span>
                        <a href="#showSuccessToast"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>showSuccessToast(message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="358"
                                    class="link-to-prism">src/app/pages/profile/profile.page.ts:358</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_currentUser"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_currentUser</b></span>
                        <a href="#_currentUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;User | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/app/pages/profile/profile.page.ts:48</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_playlists"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_playlists</b></span>
                        <a href="#_playlists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;Playlist[]&gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/app/pages/profile/profile.page.ts:45</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="changePasswordForm"></a>
                    <span class="name">
                        <span ><b>changePasswordForm</b></span>
                        <a href="#changePasswordForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Group.html" target="_self" >FormGroup</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">src/app/pages/profile/profile.page.ts:54</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentUser$"></a>
                    <span class="name">
                        <span ><b>currentUser$</b></span>
                        <a href="#currentUser$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._currentUser.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">src/app/pages/profile/profile.page.ts:49</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="destroy$"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>destroy$</b></span>
                        <a href="#destroy$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subject&lt;void&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">src/app/pages/profile/profile.page.ts:51</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="followingCount$"></a>
                    <span class="name">
                        <span ><b>followingCount$</b></span>
                        <a href="#followingCount$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Observable&lt;number&gt;</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">src/app/pages/profile/profile.page.ts:43</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formGroup"></a>
                    <span class="name">
                        <span ><b>formGroup</b></span>
                        <a href="#formGroup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Group.html" target="_self" >FormGroup</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">src/app/pages/profile/profile.page.ts:53</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="page"></a>
                    <span class="name">
                        <span ><b>page</b></span>
                        <a href="#page"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>1</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/pages/profile/profile.page.ts:36</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pages"></a>
                    <span class="name">
                        <span ><b>pages</b></span>
                        <a href="#pages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/pages/profile/profile.page.ts:38</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pageSize"></a>
                    <span class="name">
                        <span ><b>pageSize</b></span>
                        <a href="#pageSize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>25</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/app/pages/profile/profile.page.ts:37</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="playlists$"></a>
                    <span class="name">
                        <span ><b>playlists$</b></span>
                        <a href="#playlists$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._playlists.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">src/app/pages/profile/profile.page.ts:46</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="profilePictureControl"></a>
                    <span class="name">
                        <span ><b>profilePictureControl</b></span>
                        <a href="#profilePictureControl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new FormControl(&#x27;&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="55" class="link-to-prism">src/app/pages/profile/profile.page.ts:55</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="user"></a>
                    <span class="name">
                            <span class="modifier">Optional</span>
                        <span ><b>user</b></span>
                        <a href="#user"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/User.html" target="_self" >User | null</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/pages/profile/profile.page.ts:40</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, OnDestroy } from &#x27;@angular/core&#x27;;
import { FormBuilder, FormGroup, Validators, FormControl } from &#x27;@angular/forms&#x27;;
import { LoadingController, ModalController, ToastController, AlertController } from &#x27;@ionic/angular&#x27;;
import { Router } from &#x27;@angular/router&#x27;;
import { TranslateService } from &#x27;@ngx-translate/core&#x27;;
import { BehaviorSubject, Subject, lastValueFrom, of, take, Observable } from &#x27;rxjs&#x27;;
import { takeUntil, switchMap, catchError, filter, map } from &#x27;rxjs/operators&#x27;;
import { BaseAuthenticationService } from &#x27;src/app/core/services/impl/base-authentication.service&#x27;;
import { PlaylistsService } from &#x27;src/app/core/services/impl/playlists.service&#x27;;
import { SocialService } from &#x27;src/app/core/services/impl/social.service&#x27;; //  IMPORTAR SOCIAL SERVICE
import { User } from &#x27;src/app/core/models/user.model&#x27;;
import { Playlist } from &#x27;src/app/core/models/playlist.model&#x27;;
import { BaseMediaService } from &#x27;src/app/core/services/impl/base-media.service&#x27;;
import { EditProfileModalComponent } from &#x27;../../shared/components/edit-profile-modal/edit-profile-modal.component&#x27;;
import { UserService } from &#x27;src/app/core/services/impl/user.service&#x27;;
import { PlaylistModalComponent } from &#x27;../../shared/components/playlist-modal/playlist-modal.component&#x27;;

function dataURLtoBlob(dataurl: string): Blob {
  const arr &#x3D; dataurl.split(&#x27;,&#x27;);
  const mime &#x3D; arr[0].match(/:(.*?);/)?.[1];
  const bstr &#x3D; atob(arr[1]);
  let n &#x3D; bstr.length;
  const u8arr &#x3D; new Uint8Array(n);
  while (n--) {
    u8arr[n] &#x3D; bstr.charCodeAt(n);
  }
  return new Blob([u8arr], { type: mime });
}

@Component({
  selector: &#x27;app-profile&#x27;,
  templateUrl: &#x27;./profile.page.html&#x27;,
  styleUrls: [&#x27;./profile.page.scss&#x27;],
})
export class ProfilePage implements OnInit, OnDestroy {
  page: number &#x3D; 1;
  pageSize: number &#x3D; 25;
  pages: number &#x3D; 0;

  user?: User | null;
  
  //  CAMBIAR A OBSERVABLE REACTIVO
  followingCount$: Observable&lt;number&gt;;
  
  private _playlists &#x3D; new BehaviorSubject&lt;Playlist[]&gt;([]);
  playlists$ &#x3D; this._playlists.asObservable();

  private _currentUser &#x3D; new BehaviorSubject&lt;User | null&gt;(null);
  currentUser$ &#x3D; this._currentUser.asObservable();
  
  private destroy$ &#x3D; new Subject&lt;void&gt;();

  formGroup: FormGroup;
  changePasswordForm: FormGroup;
  profilePictureControl &#x3D; new FormControl(&#x27;&#x27;);

  constructor(
    private authService: BaseAuthenticationService,
    private loadingController: LoadingController,
    private toastController: ToastController,
    private translateService: TranslateService,
    private playlistsService: PlaylistsService,
    private router: Router,
    private modalCtrl: ModalController,
    private fb: FormBuilder,
    private mediaService: BaseMediaService,
    private userService: UserService,
    private authSvc: BaseAuthenticationService,
    private alertCtrl: AlertController,
    private socialService: SocialService //  INYECTAR SOCIAL SERVICE
  ) {
    console.log(&#x27;ProfilePage: constructor called&#x27;);
    
    this.formGroup &#x3D; this.fb.group({
      username: [&#x27;&#x27;, [Validators.required]],
      email: [&#x27;&#x27;, [Validators.required, Validators.email]],
      image: [&#x27;&#x27;]
    });

    this.changePasswordForm &#x3D; this.fb.group({
      currentPassword: [&#x27;&#x27;, [Validators.required]],
      newPassword: [&#x27;&#x27;, [Validators.required]],
      confirmPassword: [&#x27;&#x27;, [Validators.required]]
    });

    this.profilePictureControl.valueChanges
      .pipe(takeUntil(this.destroy$))
      .subscribe(value &#x3D;&gt; {
        console.log(&#x27;Profile picture value changed:&#x27;, value);
      });

    //  INICIALIZAR FOLLOWING COUNT OBSERVABLE
    this.followingCount$ &#x3D; this.socialService.followedArtists$.pipe(
      map(followedArtists &#x3D;&gt; followedArtists.size),
      takeUntil(this.destroy$)
    );
  }

  ngOnInit() {
    console.log(&#x27;ProfilePage: ngOnInit started&#x27;);
    this.loadUserData();
  }

  ngOnDestroy() {
    console.log(&#x27;ProfilePage: ngOnDestroy called&#x27;);
    this.destroy$.next();
    this.destroy$.complete();
  }

  private loadUserData() {
    console.log(&#x27;ProfilePage: loadUserData started&#x27;);
    
    this.authService.getCurrentUser()
      .then(currentUser &#x3D;&gt; {
        console.log(&#x27;ProfilePage: getCurrentUser result:&#x27;, currentUser);
        
        if (!currentUser) {
          console.error(&#x27;ProfilePage: No authenticated user found&#x27;);
          this.showErrorToast(&#x27;COMMON.ERROR.LOAD&#x27;);
          return;
        }

        if (!currentUser.id || currentUser.id &#x3D;&#x3D;&#x3D; &#x27;unknown&#x27;) {
          console.error(&#x27;ProfilePage: User has invalid ID:&#x27;, currentUser);
          this.showErrorToast(&#x27;COMMON.ERROR.LOAD&#x27;);
          return;
        }

        console.log(&#x27;ProfilePage: Loading full user data for ID:&#x27;, currentUser.id);
        
        this.userService.getById(currentUser.id)
          .pipe(
            take(1),
            takeUntil(this.destroy$)
          )
          .subscribe({
            next: (fullUser) &#x3D;&gt; {
              console.log(&#x27;ProfilePage: Full user loaded:&#x27;, fullUser);
              
              if (!fullUser) {
                console.error(&#x27;ProfilePage: Full user data is null&#x27;);
                this.showErrorToast(&#x27;COMMON.ERROR.LOAD&#x27;);
                return;
              }

              if (fullUser.id &#x3D;&#x3D;&#x3D; &#x27;unknown&#x27; || fullUser.email &#x3D;&#x3D;&#x3D; &#x27;unknown&#x27;) {
                console.error(&#x27;ProfilePage: User data is incomplete:&#x27;, fullUser);
                this.showErrorToast(&#x27;COMMON.ERROR.LOAD&#x27;);
                return;
              }

              console.log(&#x27;ProfilePage: Setting user with username:&#x27;, fullUser);
              this.user &#x3D; fullUser;
              this._currentUser.next(fullUser);

              //  RECARGAR DATOS SOCIALES PARA TENER EL FOLLOWING ACTUALIZADO
              this.socialService.reloadUserSocialData();

              if (fullUser.username &amp;&amp; fullUser.username.trim() !&#x3D;&#x3D; &#x27;&#x27;) {
                this.loadPlaylistsByAuthor(fullUser.username);
              } else {
                console.warn(&#x27;ProfilePage: No valid username for playlist loading&#x27;);
                this._playlists.next([]);
              }
            },
            error: (error) &#x3D;&gt; {
              console.error(&#x27;ProfilePage: Error loading user details:&#x27;, error);
              this.showErrorToast(&#x27;COMMON.ERROR.LOAD&#x27;);
            }
          });
      })
      .catch(error &#x3D;&gt; {
        console.error(&#x27;ProfilePage: Error getting current user:&#x27;, error);
        this.showErrorToast(&#x27;COMMON.ERROR.LOAD&#x27;);
      });
  }

  private loadPlaylistsByAuthor(username: string) {
    console.log(&#x27;ProfilePage: Loading playlists for author:&#x27;, username);
    
    if (!username || username.trim() &#x3D;&#x3D;&#x3D; &#x27;&#x27;) {
      console.warn(&#x27;ProfilePage: Invalid username for playlist loading:&#x27;, username);
      this._playlists.next([]);
      return;
    }
    
    this.loadPlaylistsByAuthorName(username.trim());
  }

  private loadPlaylistsByAuthorName(authorName: string) {
    console.log(&#x27;Searching playlists with author name:&#x27;, authorName);
    
    this.playlistsService.getAll(1, 100)
      .pipe(
        take(1),
        takeUntil(this.destroy$),
        map(response &#x3D;&gt; {
          const allPlaylists &#x3D; Array.isArray(response) ? response : response.data;
          console.log(&#x27;Total playlists retrieved:&#x27;, allPlaylists.length);
          
          const userPlaylists &#x3D; allPlaylists.filter(playlist &#x3D;&gt; {
            if (!playlist.author || !authorName) return false;
            
            const authorMatch &#x3D; playlist.author.includes(authorName);
            if (authorMatch) {
              console.log(&#x60;Found matching playlist: ${playlist.name} with author ${playlist.author}&#x60;);
            }
            return authorMatch;
          });
          
          console.log(&#x60;Found ${userPlaylists.length} playlists for author ${authorName}&#x60;);
          return userPlaylists;
        }),
        catchError(error &#x3D;&gt; {
          console.error(&#x27;Error loading playlists by author:&#x27;, error);
          return of([]);
        })
      )
      .subscribe(playlists &#x3D;&gt; {
        console.log(&#x27;Setting playlists in view:&#x27;, playlists);
        this._playlists.next(playlists);
      });
  }

  async deletePlaylist(playlist: Playlist, event: Event) {
    event.stopPropagation();
    
    if (!playlist || !playlist.id) {
      console.error(&#x27;Invalid playlist data&#x27;, playlist);
      return;
    }
  
    const [headerText, messageBase, cancelText, deleteText] &#x3D; await Promise.all([
      this.translateService.get(&#x27;PLAYLIST.MESSAGESS.DELETE_CONFIRM&#x27;).toPromise(),
      this.translateService.get(&#x27;PLAYLIST.MESSAGESS.DELETE_CONFIRM_MESSAGE&#x27;).toPromise(),
      this.translateService.get(&#x27;COMMON.CANCEL&#x27;).toPromise(),
      this.translateService.get(&#x27;COMMON.DELETE&#x27;).toPromise()
    ]);
  
    const message &#x3D; &#x60;${messageBase.replace(&#x27;{name}&#x27;, &#x60;&quot;${playlist.name}&quot;&#x60;)}&#x60;;
  
    const alert &#x3D; await this.alertCtrl.create({
      header: headerText,
      message: message,
      buttons: [
        {
          text: cancelText,
          role: &#x27;cancel&#x27;
        },
        {
          text: deleteText,
          role: &#x27;destructive&#x27;,
          handler: () &#x3D;&gt; {
            this.performPlaylistDeletion(playlist);
          }
        }
      ]
    });
  
    await alert.present();
  }
  
  private async performPlaylistDeletion(playlist: Playlist) {
    const loading &#x3D; await this.loadingController.create({
      message: await this.translateService.get(&#x27;COMMON.LOADING&#x27;).toPromise()
    });
    await loading.present();
  
    this.playlistsService.delete(playlist.id)
      .pipe(takeUntil(this.destroy$))
      .subscribe({
        next: () &#x3D;&gt; {
          const currentPlaylists &#x3D; this._playlists.getValue();
          const updatedPlaylists &#x3D; currentPlaylists.filter(p &#x3D;&gt; p.id !&#x3D;&#x3D; playlist.id);
          this._playlists.next(updatedPlaylists);
          
          loading.dismiss();
          this.showSuccessToast(&#x27;PLAYLIST.SUCCESS.DELETE&#x27;);
        },
        error: (error) &#x3D;&gt; {
          console.error(&#x27;Error deleting playlist:&#x27;, error);
          loading.dismiss();
          this.showErrorToast(&#x27;PLAYLIST.ERRORS.DELETE&#x27;);
        }
      });
  }

  async openPlaylistModal() {
    const user &#x3D; await this.authSvc.getCurrentUser();
    if (!user) {
      console.error(&#x27;No user found&#x27;);
      return;
    }

    const modal &#x3D; await this.modalCtrl.create({
      component: PlaylistModalComponent,
      componentProps: {},
      cssClass: &#x27;custom-modal&#x27;
    });

    modal.onDidDismiss().then((result) &#x3D;&gt; {
      if (result.role &#x3D;&#x3D;&#x3D; &#x27;create&#x27;) {
        let author &#x3D; user.username || &#x27;&#x27;;
        if (this.user) {
          author &#x3D; this.user.username;
        }
        
        if (!author || author.trim() &#x3D;&#x3D;&#x3D; &#x27;&#x27;) {
          console.error(&#x27;Cannot create playlist with empty author name&#x27;);
          this.showErrorToast(&#x27;PLAYLIST.ERRORS.CREATE&#x27;);
          return;
        }
        
        const newPlaylist: Playlist &#x3D; {
          name: result.data.name,
          author: author.trim(), 
          duration: &#x27;0:00&#x27;,
          song_IDS: [],
          users_IDS: user.id ? [user.id] : [],
          likes_count: 0,
          ...(result.data.image &amp;&amp; {
            image: result.data.image   
          })
        };

        console.log(&#x27;Creating new playlist with author:&#x27;, author);

        this.playlistsService.add(newPlaylist)
          .pipe(takeUntil(this.destroy$))
          .subscribe({
            next: (createdPlaylist) &#x3D;&gt; {
              console.log(&#x27;Playlist created successfully:&#x27;, createdPlaylist);
              if (this.user) {
                this.loadPlaylistsByAuthor(this.user.username);
              }
            },
            error: (err) &#x3D;&gt; {
              console.error(&#x27;Error creating playlist:&#x27;, err);
              this.showErrorToast(&#x27;PLAYLIST.ERRORS.LOAD&#x27;);
            }
          });
      }
    });

    await modal.present();
  }

  private async showErrorToast(message: string) {
    const toast &#x3D; await this.toastController.create({
      message: await lastValueFrom(this.translateService.get(message)),
      duration: 3000,
      position: &#x27;bottom&#x27;,
      color: &#x27;danger&#x27;
    });
    await toast.present();
  }

  private async showSuccessToast(message: string) {
    const toast &#x3D; await this.toastController.create({
      message: await lastValueFrom(this.translateService.get(message)),
      duration: 3000,
      position: &#x27;bottom&#x27;,
      color: &#x27;success&#x27;
    });
    await toast.present();
  }

  async onPhotoClick() {
    const fileInput &#x3D; document.createElement(&#x27;input&#x27;);
    fileInput.type &#x3D; &#x27;file&#x27;;
    fileInput.accept &#x3D; &#x27;image/*&#x27;;
    
    fileInput.onchange &#x3D; async (e: any) &#x3D;&gt; {
      if (e.target?.files &amp;&amp; e.target.files.length &gt; 0) {
        const file &#x3D; e.target.files[0];
        
        try {
          const loadingElement &#x3D; await this.loadingController.create();
          await loadingElement.present();
          
          const reader &#x3D; new FileReader();
          reader.onloadend &#x3D; async () &#x3D;&gt; {
            try {
              if (typeof reader.result &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
                await this.onProfilePictureChange(reader.result);
              }
            } catch (error) {
              console.error(&#x27;Error processing image:&#x27;, error);
              this.showErrorToast(&#x27;COMMON.ERROR.UPLOAD&#x27;);
            } finally {
              loadingElement.dismiss();
            }
          };
          reader.readAsDataURL(file);
          
        } catch (error) {
          console.error(error);
          this.showErrorToast(&#x27;COMMON.ERROR.UPLOAD&#x27;);
        }
      }
    };
    
    fileInput.click();
  }
  
//  MTODO CORREGIDO: onProfilePictureChange
  private async onProfilePictureChange(newPicture: string) {
    if (!this.user?.id) return;
  
    const loadingElement &#x3D; await this.loadingController.create({
      message: await lastValueFrom(this.translateService.get(&#x27;COMMON.LOADING&#x27;))
    });
  
    try {
      await loadingElement.present();
  
      if (newPicture) {
        const blob &#x3D; dataURLtoBlob(newPicture);
        console.log(&#x27; ProfilePage: Blob created:&#x27;, blob);
        
        const uploadResult &#x3D; await lastValueFrom(this.mediaService.upload(blob));
        console.log(&#x27; ProfilePage: Upload result:&#x27;, uploadResult);
        
        if (uploadResult &amp;&amp; uploadResult[0]) {
          //  CORREGIDO: Tratar como ID numrico, no como URL
          const imageId &#x3D; Number(uploadResult[0]);
          console.log(&#x27; ProfilePage: Image upload successful. ID:&#x27;, imageId);
  
          //  CORREGIDO: Enviar el ID al mapping, no un objeto con URLs
          const updateData: Partial&lt;User&gt; &#x3D; {
            image: imageId as any  // El mapping lo convertir correctamente
          };
          
          console.log(&#x27; ProfilePage: Updating user with image ID:&#x27;, updateData);
  
          const updatedUser &#x3D; await lastValueFrom(this.userService.updateProfile(this.user.id, updateData));
          console.log(&#x27; ProfilePage: Update result:&#x27;, updatedUser);
          
          if (updatedUser) {
            //  El updatedUser ya viene con la imagen correcta desde Strapi
            this.user &#x3D; updatedUser;
            this._currentUser.next(updatedUser);
            
            //  Actualizar el control con la URL real de la imagen
            if (updatedUser.image?.url) {
              this.profilePictureControl.setValue(updatedUser.image.url);
              console.log(&#x27; ProfilePage: Updated user image URL:&#x27;, updatedUser.image.url);
            }
          }
  
          await this.showSuccessToast(&#x27;PROFILE.PHOTO_UPDATED&#x27;);
        } else {
          throw new Error(&#x27;Upload failed - no result&#x27;);
        }
      }
    } catch (error) {
      console.error(&#x27; ProfilePage: Error updating profile picture:&#x27;, error);
      await this.showErrorToast(&#x27;COMMON.ERROR.UPLOAD&#x27;);
    } finally {
      await loadingElement.dismiss();
    }
  }

  //  MTODO CORREGIDO: openEditProfileModal
  async openEditProfileModal() {
    console.log(&#x27; Opening edit profile modal with user:&#x27;, this.user);
    
    if (!this.user) {
      console.error(&#x27; Cannot open edit profile modal: No user data available&#x27;);
      await this.showErrorToast(&#x27;COMMON.ERROR.LOAD&#x27;);
      return;
    }
    
    const modal &#x3D; await this.modalCtrl.create({
      component: EditProfileModalComponent,
      componentProps: {
        user: this.user
      },
      cssClass: &#x27;custom-modal&#x27;
    });
    
    modal.onDidDismiss().then(result &#x3D;&gt; {
      console.log(&#x27; Modal dismissed with result:&#x27;, result);
      
      if (result.role &#x3D;&#x3D;&#x3D; &#x27;updated&#x27; &amp;&amp; result.data) {
        console.log(&#x27; Profile updated, processing changes...&#x27;);
        console.log(&#x27; Previous user:&#x27;, this.user);
        console.log(&#x27; Updated data:&#x27;, result.data);
        
        //  ACTUALIZAR USUARIO CORRECTAMENTE
        const updatedUser &#x3D; result.data; // Ya viene completo del modal
        
        console.log(&#x27; Final updated user:&#x27;, updatedUser);
        console.log(&#x27; Updated user image:&#x27;, updatedUser.image);
        
        //  ACTUALIZAR TODAS LAS REFERENCIAS
        this.user &#x3D; updatedUser;
        this._currentUser.next(updatedUser);
        
        //  ACTUALIZAR FORMULARIO SI EXISTE
        if (this.formGroup) {
          this.formGroup.patchValue({
            username: updatedUser.username || &#x27;&#x27;,
            email: updatedUser.email || &#x27;&#x27;,
            image: updatedUser.image?.url || &#x27;&#x27;
          });
          console.log(&#x27; Form updated with new values&#x27;);
        }
        
        //  ACTUALIZAR CONTROL DE IMAGEN DE PERFIL
        if (updatedUser.image?.url) {
          this.profilePictureControl.setValue(updatedUser.image.url);
          console.log(&#x27; Profile picture control updated with URL:&#x27;, updatedUser.image.url);
        }
        
        //  RECARGAR PLAYLISTS SI CAMBI EL USERNAME
        if (updatedUser.username &amp;&amp; updatedUser.username !&#x3D;&#x3D; this.user?.username) {
          console.log(&#x27; Username updated, reloading playlists&#x27;);
          this.loadPlaylistsByAuthor(updatedUser.username);
        }
        
        //  MOSTRAR MENSAJE DE XITO
        this.showSuccessToast(&#x27;PROFILE.UPDATED_SUCCESS&#x27;);
      } else {
        console.log(&#x27; Modal dismissed without changes&#x27;);
      }
    });
    
    return await modal.present();
  }
  
  logout() {
    this.authService.signOut()
      .pipe(takeUntil(this.destroy$))
      .subscribe(() &#x3D;&gt; {
        this.router.navigate([&#x27;/login&#x27;]);
      });
  }
}</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;!-- src/app/pages/profile/profile.page.html - CON SEGUIMIENTO REAL --&gt;
&lt;ion-header [translucent]&#x3D;&quot;true&quot;&gt;
  &lt;ion-toolbar&gt;
    &lt;ion-buttons slot&#x3D;&quot;start&quot;&gt;
      &lt;ion-back-button defaultHref&#x3D;&quot;/home&quot;&gt;&lt;/ion-back-button&gt;
    &lt;/ion-buttons&gt;
    &lt;ion-title&gt;{{ &#x27;PROFILE.TITLE&#x27; | translate }}&lt;/ion-title&gt;
  &lt;/ion-toolbar&gt;
&lt;/ion-header&gt;

&lt;ion-content [fullscreen]&#x3D;&quot;true&quot;&gt;
  &lt;div class&#x3D;&quot;profile-container&quot;&gt;
    &lt;div class&#x3D;&quot;profile-header&quot;&gt;
      &lt;div class&#x3D;&quot;profile-avatar&quot;&gt;
        &lt;img 
          [src]&#x3D;&quot;(currentUser$ | async)?.image?.url ? (currentUser$ | async)?.image?.url : &#x27;assets/default-avatar.png&#x27;&quot; 
          alt&#x3D;&quot;{{ (currentUser$ | async)?.username }}&#x27;s profile picture&quot;
          (click)&#x3D;&quot;onPhotoClick()&quot;
        &gt;
      &lt;/div&gt;
      &lt;div class&#x3D;&quot;profile-info&quot;&gt;
        &lt;div class&#x3D;&quot;profile-type&quot;&gt;{{ &#x27;PROFILE.TITLES&#x27; | translate }}&lt;/div&gt;
        &lt;h1&gt;{{ user?.username }}&lt;/h1&gt;  
        &lt;div class&#x3D;&quot;profile-stats&quot;&gt;
          &lt;!--  CONTEO DE PLAYLISTS REACTIVO --&gt;
          &lt;span class&#x3D;&quot;stat-item&quot;&gt;
            &lt;strong&gt;{{ (playlists$ | async)?.length ? (playlists$ | async)?.length : 0 }}&lt;/strong&gt; {{ &#x27;PROFILE.TEXT&#x27; | translate }}
          &lt;/span&gt;
          &lt;span class&#x3D;&quot;stat-separator&quot;&gt;&lt;/span&gt;
          &lt;!--  CONTEO DE SEGUIMIENTO REACTIVO --&gt;
          &lt;span class&#x3D;&quot;stat-item&quot;&gt;
            {{ &#x27;PROFILE.FOLLOWING&#x27; | translate }} &lt;strong&gt;{{ (followingCount$ | async) ? (followingCount$ | async) : 0 }}&lt;/strong&gt; {{ &#x27;PROFILE.USER&#x27; | translate }}
          &lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class&#x3D;&quot;logout-button&quot; (click)&#x3D;&quot;logout()&quot;&gt;
        &lt;ion-icon name&#x3D;&quot;power-outline&quot;&gt;&lt;/ion-icon&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;div class&#x3D;&quot;menu-dots&quot;&gt;
      &lt;ion-button fill&#x3D;&quot;clear&quot; (click)&#x3D;&quot;openEditProfileModal()&quot;&gt;
        &lt;ion-icon slot&#x3D;&quot;start&quot; name&#x3D;&quot;pencil-outline&quot;&gt;&lt;/ion-icon&gt;
        {{ &#x27;PROFILE.EDIT&#x27; | translate }}
      &lt;/ion-button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class&#x3D;&quot;playlist-list&quot;&gt;
    &lt;div class&#x3D;&quot;section-header&quot;&gt;
      &lt;h2&gt;{{ &#x27;PROFILE.PLAYLISTS&#x27; | translate }}&lt;/h2&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;playlist-grid&quot;&gt;
      &lt;!-- Botn para crear una nueva playlist --&gt;
      &lt;div class&#x3D;&quot;playlist-item create-playlist&quot; (click)&#x3D;&quot;openPlaylistModal()&quot;&gt;
        &lt;div class&#x3D;&quot;playlist-thumbnail&quot;&gt;
          &lt;ion-icon name&#x3D;&quot;add-outline&quot; class&#x3D;&quot;add-icon&quot;&gt;&lt;/ion-icon&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;playlist-info&quot;&gt;
          &lt;h3&gt;{{ &#x27;PROFILE.CREATE_PLAYLIST&#x27; | translate }}&lt;/h3&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    
      &lt;!-- Lista de playlists del usuario con botn de eliminacin centrado --&gt;
      &lt;div *ngFor&#x3D;&quot;let playlist of playlists$ | async&quot; class&#x3D;&quot;playlist-item&quot;&gt;
        &lt;div class&#x3D;&quot;playlist-thumbnail&quot;&gt;
          &lt;img [src]&#x3D;&quot;playlist.image?.url ? playlist.image?.url : &#x27;assets/default-playlist.png&#x27;&quot; /&gt;
          &lt;div class&#x3D;&quot;playlist-actions&quot;&gt;
            &lt;ion-button fill&#x3D;&quot;clear&quot; class&#x3D;&quot;delete-button&quot; (click)&#x3D;&quot;deletePlaylist(playlist, $event)&quot;&gt;
              &lt;ion-icon name&#x3D;&quot;trash-outline&quot;&gt;&lt;/ion-icon&gt;
            &lt;/ion-button&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;playlist-info&quot;&gt;
          &lt;h3&gt;{{ playlist.name }}&lt;/h3&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/ion-content&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./profile.page.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.profile-avatar {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 1rem;
  position: relative;
  width: 200px;
  height: 200px;
  border-radius: 50%;
  overflow: hidden;
  background: #282828;

  app-picture-selectable {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    margin-left: 100px;
    margin-top: -5px;
    align-items: center;
    cursor: pointer;
    transition: opacity 0.3s ease;

    &amp;:hover {
      opacity: 0.8;
    }

    ::ng-deep {
      .user-picture {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        overflow: hidden;
      }

      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
      }

      .empty-picture-btn {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.5);

        ion-icon {
          font-size: 2.5rem;
          color: white;
        }
      }

      .change-picture-btn,
      .delete-picture-btn {
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 40px;
        margin: 0;
        border-radius: 0;
        background: rgba(0, 0, 0, 0.7);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      &amp;:hover {
        .change-picture-btn,
        .delete-picture-btn {
          opacity: 1;
        }
      }
    }
  }
}

// Ajustes del header para mantener el layout
.profile-header {
  padding: 32px 24px;
  display: flex;
  align-items: center;
  gap: 24px;

  .profile-info {
    flex: 1;
  }
}

.profile-fields {
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 1rem;
}

.save-button-container {
  display: flex;
  justify-content: flex-end;
  margin-top: 1rem;
}

.profile-info {
  h1 {
    color: #fff;
    font-size: 48px;
    font-weight: 700;
    margin: 0;
    padding: 0;
  }

  .profile-type {
    color: #fff;
    font-size: 14px;
    margin: 8px 0;
  }

  .profile-stats {
    color: rgba(255, 255, 255, 0.7);
    font-size: 14px;
  }
}

.menu-dots {
  position: absolute;
  right: 32px;
  bottom: 32px;
  ion-button {
    --color: rgba(255, 255, 255, 0.7);
    --padding-start: 8px;
    --padding-end: 8px;
  }
}

.playlist-list {
  background: #121212;
  padding: 24px;

  ion-list {
    background: transparent;
  }

  ion-item {
    --background: transparent;
    --color: #fff;
    --border-color: rgba(255, 255, 255, 0.1);

    ion-label {
      h3 {
        color: #fff;
        font-weight: 500;
      }
      p {
        color: rgba(255, 255, 255, 0.7);
      }
    }
  }
}

.logout-button {
  background-color: red;
  color: white;
  font-weight: bold;
  padding: 12px 24px;
  border-radius: 222px;
  cursor: pointer;
  border: none;
  transition: background 0.3s ease;
  margin-left: auto;
}

.logout-button:hover {
  background-color: darkred;
}

.profile-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.playlist-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  justify-content: center; /* Centra horizontalmente */
  align-items: center; /* Centra verticalmente */
  text-align: center;
}

.playlist-item {
  text-align: center;
  width: 150px; // Ancho fijo para que todas las playlists tengan el mismo tamao
  position: relative; // Necesario para posicionar el botn de eliminar
  transition: transform 0.2s ease;
  cursor: pointer;
  
  &amp;:hover {
    transform: translateY(-5px);
    
    .playlist-actions {
      opacity: 1;
    }
  }
}

.playlist-thumbnail {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  overflow: hidden;
  background: #282828;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    transition: filter 0.3s ease;
  }
  
  /* Estilos para el botn de eliminar */
  .playlist-actions {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 10;
    background: rgba(0, 0, 0, 0);
    
    .delete-button {
      --background: rgba(0, 0, 0, 0.7);
      --color: #ffffff;
      --border-radius: 50%;
      width: 50px;
      height: 50px;
      margin: 0;
      
      &amp;:hover {
        --background: rgba(255, 75, 90, 0.9);
        --color: white;
      }
      
      ion-icon {
        font-size: 24px;
      }
    }
  }
  
  // Oscurecer la imagen cuando se pasa el ratn por encima
  &amp;:hover img {
    filter: brightness(0.4);
  }
}

.playlist-info h3 {
  color: white;
  font-size: 16px;
  margin-top: 8px;
}

.profile-image {
  position: relative;
  cursor: pointer;

  .edit-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;

    ion-icon {
      font-size: 24px;
      color: white;
    }
  }

  &amp;:hover .edit-overlay {
    opacity: 1;
  }
}

.password-section {
  margin-top: 24px;
  padding-top: 16px;
  border-top: 1px solid var(--ion-color-light);
}

.edit-profile-btn {
  position: absolute;
  right: 80px;
  top: 20px;
  --color: white;
  font-size: 24px;
}

.profile-container {
  position: relative;
  background: linear-gradient(180deg, #404040 0%, #121212 100%);
  padding: 20px;
}

.create-playlist {
  .playlist-thumbnail {
    background: rgba(255, 255, 255, 0.1);
    border: 2px dashed rgba(255, 255, 255, 0.3);
    cursor: pointer;
    transition: background 0.3s ease, border-color 0.3s ease;

    &amp;:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .add-icon {
      font-size: 48px;
      color: rgba(255, 255, 255, 0.7);
    }
  }

  .playlist-info h3 {
    color: rgba(255, 255, 255, 0.7);
  }
}

@media (max-width: 768px) {
  .profile-container {
    padding: 16px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .profile-header {
    padding: 16px 0;
    flex-direction: column;
    align-items: center;
    text-align: center;
    width: 100%;
    position: relative;
  }

  .profile-avatar {
    width: 120px;
    height: 120px;
    margin: 0 auto;

    app-picture-selectable {
      margin: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;

      ::ng-deep {
        .user-picture {
          width: 100%;
          height: 100%;
          border-radius: 50%;
          overflow: hidden;

          img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
          }
        }

        .empty-picture-btn {
          position: absolute;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(0, 0, 0, 0.5);

          ion-icon {
            font-size: 2rem;
          }
        }

        .change-picture-btn,
        .delete-picture-btn {
          position: absolute;
          bottom: 0;
          width: 100%;
          height: 32px;
          margin: 0;
          border-radius: 0;
          background: rgba(0, 0, 0, 0.7);
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        &amp;:hover,
        &amp;:active {
          .change-picture-btn,
          .delete-picture-btn {
            opacity: 1;
          }
        }
      }
    }
  }

  .profile-info {
    width: 100%;
    text-align: center;
    margin-top: 16px;

    h1 {
      font-size: 28px;
      text-align: center;
    }

    .profile-type {
      font-size: 14px;
      margin: 8px 0;
    }

    .profile-stats {
      font-size: 14px;
    }
  }

  .logout-button {
    position: static;
    width: 40px;
    height: 40px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    margin: 16px auto 0;

    ion-icon {
      font-size: 20px;
    }
  }

  .menu-dots {
    position: static;
    width: 100%;
    display: flex;
    justify-content: center;
    margin-top: 16px;
    right: auto;
    bottom: auto;
  }

  .playlist-list {
    width: 100%;
    padding: 16px;
    margin-top: 20px;

    .section-header {
      text-align: center;
      margin-bottom: 20px;

      h2 {
        font-size: 20px;
        margin: 0;
      }
    }
  }

  .playlist-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
    padding: 0 8px;
  }

  .playlist-item {
    width: 140px;
    margin: 0 auto;
  }

  .playlist-thumbnail {
    width: 140px;
    height: 140px;

    img {
      width: 100%;
      height: 100%;
    }
    
    // Ajuste del botn eliminar para mvil
    .playlist-actions {
      .delete-button {
        width: 45px;
        height: 45px;
        
        ion-icon {
          font-size: 20px;
        }
      }
    }
  }

  .playlist-info {
    h3 {
      font-size: 14px;
      margin: 8px 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }

  .create-playlist {
    .playlist-thumbnail {
      width: 140px;
      height: 140px;

      .add-icon {
        font-size: 32px;
      }
    }
  }
}

// Ajustes adicionales para pantallas muy pequeas
@media (max-width: 480px) {
  .playlist-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  .playlist-item {
    width: 120px;
  }

  .playlist-thumbnail {
    width: 120px;
    height: 120px;
    
    .playlist-actions {
      .delete-button {
        width: 40px;
        height: 40px;
        
        ion-icon {
          font-size: 18px;
        }
      }
    }
  }

  .create-playlist {
    .playlist-thumbnail {
      width: 120px;
      height: 120px;
    }
  }

  .profile-avatar {
    width: 100px;
    height: 100px;
  }

  .profile-info {
    h1 {
      font-size: 24px;
    }
  }
}</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><!-- src/app/pages/profile/profile.page.html - CON SEGUIMIENTO REAL --><ion-header [translucent]="true">  <ion-toolbar>    <ion-buttons slot="start">      <ion-back-button defaultHref="/home"></ion-back-button>    </ion-buttons>    <ion-title>{{ \'PROFILE.TITLE\' | translate }}</ion-title>  </ion-toolbar></ion-header><ion-content [fullscreen]="true">  <div class="profile-container">    <div class="profile-header">      <div class="profile-avatar">        <img           [src]="(currentUser$ | async)?.image?.url ? (currentUser$ | async)?.image?.url : \'assets/default-avatar.png\'"           alt="{{ (currentUser$ | async)?.username }}\'s profile picture"          (click)="onPhotoClick()"        >      </div>      <div class="profile-info">        <div class="profile-type">{{ \'PROFILE.TITLES\' | translate }}</div>        <h1>{{ user?.username }}</h1>          <div class="profile-stats">          <!--  CONTEO DE PLAYLISTS REACTIVO -->          <span class="stat-item">            <strong>{{ (playlists$ | async)?.length ? (playlists$ | async)?.length : 0 }}</strong> {{ \'PROFILE.TEXT\' | translate }}          </span>          <span class="stat-separator"></span>          <!--  CONTEO DE SEGUIMIENTO REACTIVO -->          <span class="stat-item">            {{ \'PROFILE.FOLLOWING\' | translate }} <strong>{{ (followingCount$ | async) ? (followingCount$ | async) : 0 }}</strong> {{ \'PROFILE.USER\' | translate }}          </span>        </div>      </div>      <div class="logout-button" (click)="logout()">        <ion-icon name="power-outline"></ion-icon>      </div>    </div>        <div class="menu-dots">      <ion-button fill="clear" (click)="openEditProfileModal()">        <ion-icon slot="start" name="pencil-outline"></ion-icon>        {{ \'PROFILE.EDIT\' | translate }}      </ion-button>    </div>  </div>  <div class="playlist-list">    <div class="section-header">      <h2>{{ \'PROFILE.PLAYLISTS\' | translate }}</h2>    </div>    <div class="playlist-grid">      <!-- Botn para crear una nueva playlist -->      <div class="playlist-item create-playlist" (click)="openPlaylistModal()">        <div class="playlist-thumbnail">          <ion-icon name="add-outline" class="add-icon"></ion-icon>        </div>        <div class="playlist-info">          <h3>{{ \'PROFILE.CREATE_PLAYLIST\' | translate }}</h3>        </div>      </div>          <!-- Lista de playlists del usuario con botn de eliminacin centrado -->      <div *ngFor="let playlist of playlists$ | async" class="playlist-item">        <div class="playlist-thumbnail">          <img [src]="playlist.image?.url ? playlist.image?.url : \'assets/default-playlist.png\'" />          <div class="playlist-actions">            <ion-button fill="clear" class="delete-button" (click)="deletePlaylist(playlist, $event)">              <ion-icon name="trash-outline"></ion-icon>            </ion-button>          </div>        </div>        <div class="playlist-info">          <h3>{{ playlist.name }}</h3>        </div>      </div>    </div>  </div></ion-content></div>'
    var COMPONENTS = [{'name': 'AboutPage', 'selector': 'app-about'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'ArtistGridCardComponent', 'selector': 'app-artist-grid-card'},{'name': 'ArtistModalComponent', 'selector': 'app-artist-modal'},{'name': 'ArtistProfilePage', 'selector': 'app-artist-profile'},{'name': 'ArtistsPage', 'selector': 'app-artists'},{'name': 'AudioPlayerComponent', 'selector': 'app-audio-player'},{'name': 'ChangePasswordModalComponent', 'selector': 'app-change-password-modal'},{'name': 'ClickableArtistNamesComponent', 'selector': 'app-clickable-artist-names'},{'name': 'EditProfileModalComponent', 'selector': 'app-edit-profile-modal'},{'name': 'FollowArtistButtonComponent', 'selector': 'app-follow-artist-button'},{'name': 'GlobalSearchComponent', 'selector': 'app-global-search'},{'name': 'HomePage', 'selector': 'app-home'},{'name': 'LikeButtonComponent', 'selector': 'app-like-button'},{'name': 'LoginPage', 'selector': 'app-login'},{'name': 'PictureSelectableComponent', 'selector': 'app-picture-selectable'},{'name': 'PlayButtonComponent', 'selector': 'app-play-button'},{'name': 'PlaylistDetailPage', 'selector': 'app-playlist-detail'},{'name': 'PlaylistLikeButtonComponent', 'selector': 'app-playlist-like-button'},{'name': 'PlaylistModalComponent', 'selector': 'app-playlist-modal'},{'name': 'PlaylistsPage', 'selector': 'app-playlists'},{'name': 'ProfilePage', 'selector': 'app-profile'},{'name': 'RegisterPage', 'selector': 'app-register'},{'name': 'SongDetailModalComponent', 'selector': 'app-song-detail-modal'},{'name': 'SongGridCardComponent', 'selector': 'app-song-grid-card'},{'name': 'SongModalComponent', 'selector': 'app-song-modal'},{'name': 'SongsPage', 'selector': 'app-songs'},{'name': 'SplashPage', 'selector': 'app-splash'}];
    var DIRECTIVES = [{'name': 'DragDropDirective', 'selector': '[appDragDrop]'}];
    var ACTUAL_COMPONENT = {'name': 'ProfilePage'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ProfilePage.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
